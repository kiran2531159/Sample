import requests
import gzip
import shutil
import os

model_url = "https://sourceforge.net/projects/cmusphinx/files/Acoustic%20and%20Language%20Models/en-us-ptm-5.2.tar.gz"
model_file = "en-us-ptm-5.2.tar.gz"
model_folder = "en-us-ptm-5.2"

response = requests.get(model_url)

with open(model_file, "wb") as f:
    f.write(response.content)

with gzip.open(model_file, "rb") as f_in:
    with open(model_folder + ".tar", "wb") as f_out:
        shutil.copyfileobj(f_in, f_out)

shutil.unpack_archive(model_folder + ".tar", model_folder)

os.remove(model_file)
os.remove(model_folder + ".tar")
